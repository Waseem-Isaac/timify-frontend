"use strict";(self.webpackChunktimify=self.webpackChunktimify||[]).push([[425],{9425:(jn,h,c)=>{c.r(h),c.d(h,{ReportsModule:()=>qn});var s=c(6895),P=c(9814),T=c(9831),l=c(9299),_=c(8746),n=c(4650),p=c(5439),M=c(1135),Z=c(8505),w=c(529),b=c(9285);let g=(()=>{class e{constructor(t,o){this._http=t,this.credentialsService=o,this.totalConsumedTime$=new M.X(0)}countReports(){return this._http.get("reports/count").pipe((0,Z.b)(t=>{this.totalConsumedTime$.next(t?.totalTime[0]?.value)}))}getTeam(){return this._http.get("users")}getProjects(){return this._http.get("projects/all")}getTopTasks(){return this._http.get("reports/top-tasks")}getTopMemebers(){return this._http.get("reports/top-users")}getTopProjects(){return this._http.get("reports/top-projects")}calculateTaskPeriodByTime(t){return 1==p.utc(t).date()?{asObject:p.duration(t)._data,asString:p.utc(t).add(999,"milliseconds").format("H:mm:ss")}:{asObject:p.duration(t)._data,asString:"00"+(p.utc(t).dayOfYear()-1)+":"+p.utc(t).add(999,"milliseconds").format("H:mm:ss")}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(w.eN),n.LFG(b.Cs))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=c(7392),d=c(1572),f=c(266);function A(e,i){if(1&e&&(n.TgZ(0,"div",10),n._uU(1,"\n            "),n._UZ(2,"div",11),n._uU(3,"\n            "),n.TgZ(4,"span"),n._uU(5),n.qZA(),n._uU(6,"\n        "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.xp6(2),n.Udp("background","var(--main-bg-color-"+o+")"),n.xp6(3),n.Oqu(t.name)}}function k(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n                "),n.TgZ(2,"h3"),n._uU(3),n.qZA(),n._uU(4,"\n                "),n.TgZ(5,"span"),n._uU(6),n.qZA(),n._uU(7,"\n           "),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(3),n.Oqu(t.name),n.xp6(3),n.Oqu(t.totalPeriod)}}function y(e,i){if(1&e&&(n.TgZ(0,"div",14),n._uU(1,"\n           "),n.YNc(2,k,8,2,"div",15),n._uU(3,"\n             \n        "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.Udp("width",t.width+"%")("background","var(--main-bg-color-"+o+")")("color","white"),n.Q6J("matTooltip",(null==t?null:t.name)+" - "+(null==t?null:t.totalPeriod)),n.xp6(2),n.Q6J("ngIf",t.width>10)}}function q(e,i){if(1&e&&(n.TgZ(0,"div",12),n._uU(1,"\n        "),n.YNc(2,y,4,8,"div",13),n._uU(3,"\n   "),n.qZA()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",t.topProjects)}}function j(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n            "),n.TgZ(2,"div",16),n._uU(3,"\n        \n                "),n.TgZ(4,"div",8),n._uU(5),n.qZA(),n._uU(6,"\n\n                "),n.TgZ(7,"div",8),n._uU(8),n.qZA(),n._uU(9,"\n        \n                "),n.TgZ(10,"div",8),n._uU(11),n.qZA(),n._uU(12,"\n        \n            "),n.qZA(),n._uU(13,"\n        "),n.qZA()),2&e){const t=i.$implicit;n.xp6(5),n.hij("\n                    ",null==t?null:t.name,"\n                "),n.xp6(3),n.hij("\n                    ",null==t?null:t.tasksCount,"\n                "),n.xp6(3),n.hij("\n                    ",null==t?null:t.totalPeriod,"\n                ")}}function R(e,i){if(1&e&&(n.ynx(0),n._uU(1,"\n   \n    "),n.TgZ(2,"div",2),n._uU(3,"\n        "),n.YNc(4,A,7,3,"div",3),n._uU(5,"\n    "),n.qZA(),n._uU(6,"\n    "),n.YNc(7,q,4,1,"div",4),n._uU(8,"\n   \n   \n    "),n.TgZ(9,"div",5),n._uU(10,"\n        "),n.TgZ(11,"div",6),n._uU(12,"\n            "),n.TgZ(13,"div",7),n._uU(14,"\n                name\n            "),n.qZA(),n._uU(15,"\n            "),n.TgZ(16,"div",8),n._uU(17,"\n                Tasks Count\n            "),n.qZA(),n._uU(18,"\n\n            "),n.TgZ(19,"div",8),n._uU(20,"\n                Total Time\n            "),n.qZA(),n._uU(21,"\n    \n        "),n.qZA(),n._uU(22,"\n        "),n.YNc(23,j,14,3,"div",9),n._uU(24,"\n    "),n.qZA(),n._uU(25,"\n"),n.BQk()),2&e){const t=n.oxw(),o=n.MAs(3);n.xp6(4),n.Q6J("ngForOf",t.topProjects),n.xp6(3),n.Q6J("ngIf",t.topProjects)("ngIfElse",o),n.xp6(16),n.Q6J("ngForOf",t.projects)}}function N(e,i){1&e&&(n.ynx(0),n._uU(1,"\n  "),n._UZ(2,"mat-spinner",19),n._uU(3,"\n\n"),n.BQk()),2&e&&(n.xp6(2),n.Q6J("diameter",25))}function I(e,i){if(1&e&&(n.TgZ(0,"h4"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3);n.xp6(1),n.hij("\n      ",t.serverErrMsg,"\n    ")}}function Y(e,i){1&e&&(n._uU(0," \n      "),n.TgZ(1,"h4"),n._uU(2,"No data so far"),n.qZA(),n._uU(3,"\n    "))}function F(e,i){if(1&e&&(n._uU(0,"\n    "),n.TgZ(1,"mat-icon",20),n._uU(2,"error_outline"),n.qZA(),n._uU(3,"\n    "),n.YNc(4,I,2,1,"h4",0),n._uU(5,"\n    "),n.YNc(6,Y,4,0,"ng-template",null,21,n.W1O),n._uU(8,"\n")),2&e){const t=n.MAs(7),o=n.oxw(2);n.xp6(4),n.Q6J("ngIf",o.serverErrMsg)("ngIfElse",t)}}function Q(e,i){if(1&e&&(n._uU(0,"\n"),n.TgZ(1,"div",17),n._uU(2,"\n"),n.YNc(3,N,4,1,"ng-container",0),n._uU(4,"\n"),n.YNc(5,F,9,2,"ng-template",null,18,n.W1O),n._uU(7,"\n"),n.qZA(),n._uU(8,"\n")),2&e){const t=n.MAs(6),o=n.oxw();n.xp6(3),n.Q6J("ngIf",o.isLoading)("ngIfElse",t)}}let J=(()=>{class e{constructor(t){this.reportsService=t,this.isLoading=!0,this.projects=[],this.topProjects=[]}ngOnInit(){this.getTeam()}getTeam(){this.reportsService.getProjects().pipe((0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{this.projects=t;let o=0;this.projects.forEach(r=>{r.totalPeriod=this.reportsService.calculateTaskPeriodByTime(r?.tasksTime)?.asString,o+=r?.tasksTime}),this.calcTime(o)},t=>this.serverErrMsg=t?.error?.message||"Something went wrong, Please try again later.")}calcTime(t){this.reportsService.totalConsumedTime$.subscribe(o=>{let r=o-t;this.topProjects=[...this.projects,{name:"Without project",tasksTime:r,totalPeriod:this.reportsService.calculateTaskPeriodByTime(r).asString}].slice(0,4).filter(a=>a.tasksTime>0).sort((a,x)=>x.tasksTime-a.tasksTime),this.topProjects.forEach(a=>{a.width=a?.tasksTime/o*100,a.width=a.width<1?++a.width:a.width})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-projects-report"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"legend","flex-m"],["class","flex-m flex-c",4,"ngFor","ngForOf"],["class","top projects",4,"ngIf","ngIfElse"],[1,"results"],[1,"row","table-header"],[1,"name"],[1,""],[4,"ngFor","ngForOf"],[1,"flex-m","flex-c"],[1,"block"],[1,"top","projects"],[3,"width","background","color","matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[4,"ngIf"],[1,"row"],[1,"empty-block","flex-m","flex-c","w-full"],["empty",""],[3,"diameter"],[1,"m-r-5"],["no_data",""]],template:function(t,o){if(1&t&&(n.YNc(0,R,26,4,"ng-container",0),n._uU(1,"\n\n\n"),n.YNc(2,Q,9,2,"ng-template",null,1,n.W1O)),2&t){const r=n.MAs(3);n.Q6J("ngIf",null==o.projects?null:o.projects.length)("ngIfElse",r)}},dependencies:[s.sg,s.O5,u.Hw,d.Ou,f.gM],styles:[".results[_ngcontent-%COMP%]{max-height:25rem;overflow:scroll}",".mat-button-toggle[_ngcontent-%COMP%]{width:100px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff}.row[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:1px 2px 2px #f1f1f1;padding:10px 20px;margin:1px 0;min-height:50px}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;font-size:15px}.row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:30px;height:30px;background:#90a4ae;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;color:#fff}.row.report-title[_ngcontent-%COMP%]{padding:0;justify-content:space-between;align-items:center;text-align:center}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#607d8b;width:100%;text-align:center;cursor:pointer;transition:all .2s ease-in;height:90px;outline:none}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:not(:last-of-type){border-right:solid 1px rgba(0,0,0,.1)}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:60px}.row.report-title[_ngcontent-%COMP%]   h3.active[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#607d8b}.row.report-title[_ngcontent-%COMP%]     *{font-family:Poppins,Arial,sans-serif!important}.row.report-title[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#cfd8dc}.row.report-title[_ngcontent-%COMP%]     .mat-select-value{color:#607d8b}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;vertical-align:middle;color:#90a4ae;cursor:default;text-transform:uppercase}.dots[_ngcontent-%COMP%]{display:flex;gap:5px}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff;width:10px;height:10px;animation:flash ease .7s infinite;margin:10px 0}@keyframes flash{0%{background-color:#cfd8dc}to{background-color:#fff}}.top[_ngcontent-%COMP%]{display:flex;max-width:100%}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;height:55px}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.legend[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;gap:10px}.legend[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:15px;height:15px}"]}),e})();var z=c(710),E=c(9300);function S(e,i){if(1&e&&(n.TgZ(0,"h3",9),n._uU(1,"\n                    "),n.TgZ(2,"span",10),n._uU(3),n.qZA(),n._uU(4),n.qZA()),2&e){const t=i.$implicit,o=n.oxw().ngIf;n.Q6J("routerLink",t.value)("routerLinkActive","active"),n.xp6(3),n.Oqu(null==o?null:o[t.value]),n.xp6(1),n.hij(" ",null==t?null:t.name,"\n               ")}}const U=function(){return{name:"Tasks",value:"tasks"}},C=function(){return{name:"Team",value:"team"}},O=function(){return{name:"projects",value:"projects"}},v=function(e,i,t){return[e,i,t]};function L(e,i){1&e&&(n.TgZ(0,"div",7),n._uU(1,"\n               "),n.YNc(2,S,5,4,"h3",8),n._uU(3,"\n          "),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngForOf",n.kEZ(4,v,n.DdM(1,U),n.DdM(2,C),n.DdM(3,O))))}function $(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n                         "),n.TgZ(2,"h3"),n._uU(3,"\n                              "),n.TgZ(4,"span",13),n._uU(5,"\n                                   "),n._UZ(6,"div",14),n._uU(7,"\n                                   "),n._UZ(8,"div",14),n._uU(9,"\n                                   "),n._UZ(10,"div",14),n._uU(11,"\n                              "),n.qZA(),n._uU(12,"\n                         "),n.qZA(),n._uU(13,"\n                         "),n._uU(14,"\n                    "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.Udp("width","30%")("background","var(--main-bg-color-"+o+")")("color","white"),n.xp6(2),n.Udp("font-size",t.periodAsANumber/99999*100<1e3?"12px":"auto")}}const D=function(){return[1,2,3,4]};function W(e,i){1&e&&(n._uU(0,"\n               "),n._uU(1,"\n               "),n.TgZ(2,"div",11),n._uU(3,"\n                    "),n.YNc(4,$,15,8,"div",12),n._uU(5,"\n               "),n.qZA(),n._uU(6,"\n          ")),2&e&&(n.xp6(4),n.Q6J("ngForOf",n.DdM(1,D)))}function B(e,i){1&e&&(n.TgZ(0,"h3",16),n._uU(1,"\n                         "),n.TgZ(2,"span",10),n._uU(3,"\n                              "),n.TgZ(4,"span",13),n._uU(5,"\n                                   "),n._UZ(6,"div",14),n._uU(7,"\n                                   "),n._UZ(8,"div",14),n._uU(9,"\n                                   "),n._UZ(10,"div",14),n._uU(11,"\n                              "),n.qZA(),n._uU(12,"\n                         "),n.qZA(),n._uU(13,"\n                    "),n.qZA())}function H(e,i){1&e&&(n._uU(0,"\n               "),n.TgZ(1,"div",7),n._uU(2,"\n                    "),n.YNc(3,B,14,0,"h3",15),n._uU(4,"\n               "),n.qZA(),n._uU(5,"\n          ")),2&e&&(n.xp6(3),n.Q6J("ngForOf",n.kEZ(4,v,n.DdM(1,U),n.DdM(2,C),n.DdM(3,O))))}let X=(()=>{class e{constructor(t,o){this.router=t,this.reportsService=o,this.version=z.N.version,this.reportsCounts$=this.reportsService.countReports(),this.router.events.pipe((0,E.h)(a=>a instanceof l.m2)).subscribe(a=>{this.reportPerWhat=a.urlAfterRedirects.split("/").pop()})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.F0),n.Y36(g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-reports"]],decls:29,vars:5,consts:[[1,"container"],[1,"page-header"],[1,"title"],[1,"page-content"],["class","report-title row",4,"ngIf","ngIfElse"],["loading",""],["isCountLoading",""],[1,"report-title","row"],[3,"routerLink","routerLinkActive",4,"ngFor","ngForOf"],[3,"routerLink","routerLinkActive"],[1,"count"],[1,"top"],[3,"width","background","color",4,"ngFor","ngForOf"],[1,"dots"],[1,"dot"],["class","flex-c flex-m",4,"ngFor","ngForOf"],[1,"flex-c","flex-m"]],template:function(t,o){if(1&t&&(n.TgZ(0,"div",0),n._uU(1,"\n\n     "),n.TgZ(2,"div",1),n._uU(3,"\n          "),n.TgZ(4,"div",2),n._uU(5,"Reports Per "),n.TgZ(6,"b"),n._uU(7),n.qZA(),n._uU(8," "),n.qZA(),n._uU(9,"\n          "),n.TgZ(10,"code")(11,"b"),n._uU(12,"(Module is in-progress yet.)"),n.qZA()(),n._uU(13,"\n\n     "),n.qZA(),n._uU(14,"\n\n     "),n.TgZ(15,"div",3),n._uU(16,"\n          "),n.YNc(17,L,4,8,"div",4),n.ALo(18,"async"),n._uU(19,"\n\n          "),n.YNc(20,W,7,2,"ng-template",null,5,n.W1O),n._uU(22,"\n\n          "),n.YNc(23,H,6,8,"ng-template",null,6,n.W1O),n._uU(25,"\n          "),n._UZ(26,"router-outlet"),n._uU(27,"\n     "),n.qZA(),n._uU(28,"\n"),n.qZA()),2&t){const r=n.MAs(24);n.xp6(7),n.Oqu(o.reportPerWhat),n.xp6(10),n.Q6J("ngIf",n.lcZ(18,3,o.reportsCounts$))("ngIfElse",r)}},dependencies:[s.sg,s.O5,l.lC,l.rH,l.Od,s.Ov],styles:[".mat-button-toggle[_ngcontent-%COMP%]{width:100px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff}.row[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:1px 2px 2px #f1f1f1;padding:10px 20px;margin:1px 0;min-height:50px}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;font-size:15px}.row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:30px;height:30px;background:#90a4ae;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;color:#fff}.row.report-title[_ngcontent-%COMP%]{padding:0;justify-content:space-between;align-items:center;text-align:center}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#607d8b;width:100%;text-align:center;cursor:pointer;transition:all .2s ease-in;height:90px;outline:none}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:not(:last-of-type){border-right:solid 1px rgba(0,0,0,.1)}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:60px}.row.report-title[_ngcontent-%COMP%]   h3.active[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#607d8b}.row.report-title[_ngcontent-%COMP%]     *{font-family:Poppins,Arial,sans-serif!important}.row.report-title[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#cfd8dc}.row.report-title[_ngcontent-%COMP%]     .mat-select-value{color:#607d8b}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;vertical-align:middle;color:#90a4ae;cursor:default;text-transform:uppercase}.dots[_ngcontent-%COMP%]{display:flex;gap:5px}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff;width:10px;height:10px;animation:flash ease .7s infinite;margin:10px 0}@keyframes flash{0%{background-color:#cfd8dc}to{background-color:#fff}}.top[_ngcontent-%COMP%]{display:flex;max-width:100%}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;height:55px}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.legend[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;gap:10px}.legend[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:15px;height:15px}"]}),e})();var m=c(5412);let G=(()=>{class e{constructor(t,o){this.dialogRef=t,this.data=o}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(m.so),n.Y36(m.WI))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-task-dialog"]],decls:57,vars:12,consts:[[1,"description"],[1,"row","table-header"],[1,"row"],[1,"rest-data"],[1,""],[1,"tasks"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0),n._uU(1,"\n\n    "),n.TgZ(2,"div",1),n._uU(3,"\n        "),n.TgZ(4,"div"),n._uU(5,"\n            Description\n        "),n.qZA(),n._uU(6,"\n    "),n.qZA(),n._uU(7,"\n    "),n.TgZ(8,"div",2),n._uU(9,"\n        "),n.TgZ(10,"div",0),n._uU(11),n.qZA(),n._uU(12,"\n    "),n.qZA(),n._uU(13,"\n\n\n"),n.qZA(),n._uU(14,"\n"),n.TgZ(15,"div",3),n._uU(16,"\n    "),n.TgZ(17,"div",1),n._uU(18,"\n        "),n._uU(19,"\n\n        "),n.TgZ(20,"div",4),n._uU(21,"\n            Username\n        "),n.qZA(),n._uU(22,"\n\n        "),n.TgZ(23,"div",4),n._uU(24,"\n            Project\n        "),n.qZA(),n._uU(25,"\n\n        "),n.TgZ(26,"div",4),n._uU(27,"\n            Start Time\n        "),n.qZA(),n._uU(28,"\n        "),n.TgZ(29,"div",4),n._uU(30,"\n            End Time\n        "),n.qZA(),n._uU(31,"\n\n        "),n.TgZ(32,"div",5),n._uU(33,"Period"),n.qZA(),n._uU(34,"\n    "),n.qZA(),n._uU(35,"\n    "),n.TgZ(36,"div",2),n._uU(37,"\n\n        "),n.TgZ(38,"div",4),n._uU(39),n.qZA(),n._uU(40,"\n\n        "),n.TgZ(41,"div",4),n._uU(42),n.qZA(),n._uU(43,"\n\n        "),n.TgZ(44,"div",4),n._uU(45),n.ALo(46,"date"),n.qZA(),n._uU(47,"\n        "),n.TgZ(48,"div",4),n._uU(49),n.ALo(50,"date"),n.qZA(),n._uU(51,"\n\n        "),n.TgZ(52,"div",4),n._uU(53),n.qZA(),n._uU(54,"\n\n        "),n._uU(55,"\n    "),n.qZA(),n._uU(56,"\n"),n.qZA()),2&t&&(n.xp6(11),n.hij("\n            ",null==o.data?null:o.data.description,"\n        "),n.xp6(28),n.hij("\n            ",null==o.data||null==o.data.user?null:o.data.user.username,"\n        "),n.xp6(3),n.hij("\n            ",(null==o.data||null==o.data.project?null:o.data.project.name)||"No Project","\n        "),n.xp6(3),n.hij("\n            ",n.xi3(46,6,null==o.data?null:o.data.startTime,"short"),"\n        "),n.xp6(4),n.hij("\n            ",n.xi3(50,9,null==o.data?null:o.data.endTime,"short"),"\n        "),n.xp6(4),n.hij("\n            ",null==o.data?null:o.data.period,"\n        "))},dependencies:[s.uU],styles:[".mat-button-toggle[_ngcontent-%COMP%]{width:100px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff}.row[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:1px 2px 2px #f1f1f1;padding:10px 20px;margin:1px 0;min-height:50px}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;font-size:15px}.row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:30px;height:30px;background:#90a4ae;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;color:#fff}.row.report-title[_ngcontent-%COMP%]{padding:0;justify-content:space-between;align-items:center;text-align:center}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#607d8b;width:100%;text-align:center;cursor:pointer;transition:all .2s ease-in;height:90px;outline:none}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:not(:last-of-type){border-right:solid 1px rgba(0,0,0,.1)}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:60px}.row.report-title[_ngcontent-%COMP%]   h3.active[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#607d8b}.row.report-title[_ngcontent-%COMP%]     *{font-family:Poppins,Arial,sans-serif!important}.row.report-title[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#cfd8dc}.row.report-title[_ngcontent-%COMP%]     .mat-select-value{color:#607d8b}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;vertical-align:middle;color:#90a4ae;cursor:default;text-transform:uppercase}.dots[_ngcontent-%COMP%]{display:flex;gap:5px}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff;width:10px;height:10px;animation:flash ease .7s infinite;margin:10px 0}@keyframes flash{0%{background-color:#cfd8dc}to{background-color:#fff}}.top[_ngcontent-%COMP%]{display:flex;max-width:100%}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;height:55px}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.legend[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;gap:10px}.legend[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:15px;height:15px}",".row[_ngcontent-%COMP%]:last-of-type{box-shadow:none}.description[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}"]}),e})();var K=c(3771),V=c(7296);let nn=(()=>{class e{transform(t,o){const r=o.length>0?parseInt(o[0],10):20,a=o.length>1?o[1]:"...";return t?.length>r?t.substring(0,r)+a:t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"truncate",type:e,pure:!0}),e})();function tn(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"div",12),n.NdJ("click",function(){const a=n.CHM(t).$implicit,x=n.oxw(3);return n.KtG(x.showTask(a))}),n._uU(1,"\n                 "),n.TgZ(2,"h3"),n._uU(3),n.qZA(),n._uU(4,"\n                 "),n.TgZ(5,"span",13),n._uU(6),n.qZA(),n._uU(7,"\n            "),n.qZA()}if(2&e){const t=i.$implicit,o=i.index;n.Udp("width",t.periodAsANumber/99999*100+"%")("background","var(--main-bg-color-"+o+")")("color","white"),n.xp6(2),n.Udp("font-size",t.periodAsANumber/99999*100<1e3?"12px":"auto"),n.xp6(1),n.Oqu(t.period),n.xp6(2),n.Q6J("hidden",t.periodAsANumber/99999*100<1e3),n.xp6(1),n.AsE("",null==t.user?null:t.user.username," - ",(null==t.project?null:t.project.name)||"No Project","")}}function en(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n        "),n.TgZ(2,"div",10),n._uU(3,"\n            "),n.YNc(4,tn,8,12,"div",11),n._uU(5,"\n       "),n.qZA(),n._uU(6,"\n    "),n.qZA()),2&e){const t=i.ngIf;n.xp6(4),n.Q6J("ngForOf",t)}}const on=function(){return[50,"..."]};function rn(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n            "),n.TgZ(2,"div",14),n._uU(3,"\n                "),n.TgZ(4,"div",15),n._uU(5),n.ALo(6,"truncate"),n.qZA(),n._uU(7,"\n\n                "),n.TgZ(8,"div",6),n._uU(9),n.qZA(),n._uU(10,"\n\n                "),n.TgZ(11,"div",6),n._uU(12),n.qZA(),n._uU(13,"\n\n                "),n.TgZ(14,"div",6),n._uU(15),n.ALo(16,"date"),n.qZA(),n._uU(17,"\n\n                "),n.TgZ(18,"div",6),n._uU(19),n.ALo(20,"date"),n.qZA(),n._uU(21,"\n\n                "),n.TgZ(22,"div",6),n._uU(23),n.qZA(),n._uU(24,"\n\n                "),n._uU(25,"\n            "),n.qZA(),n._uU(26,"\n        "),n.qZA()),2&e){const t=i.$implicit;n.xp6(4),n.Q6J("matTooltip",(null==t||null==t.description?null:t.description.length)>80?null==t?null:t.description:""),n.xp6(1),n.hij("\n                    ",n.xi3(6,7,null==t?null:t.description,n.DdM(16,on)),"\n                "),n.xp6(4),n.hij("\n                    ",null==t||null==t.user?null:t.user.username,"\n                "),n.xp6(3),n.hij("\n                    ",(null==t||null==t.project?null:t.project.name)||"No Project","\n                "),n.xp6(3),n.hij("\n                    ",n.xi3(16,10,null==t?null:t.startTime,"short"),"\n                "),n.xp6(4),n.hij("\n                    ",n.xi3(20,13,null==t?null:t.endTime,"short"),"\n                "),n.xp6(4),n.hij("\n                    ",null==t?null:t.period,"\n                ")}}function cn(e,i){1&e&&(n.TgZ(0,"div",16),n._uU(1,"\n            "),n._UZ(2,"mat-spinner",17),n._uU(3,"\n        "),n.qZA()),2&e&&(n.xp6(2),n.Q6J("diameter",25))}function an(e,i){if(1&e){const t=n.EpF();n.ynx(0),n._uU(1,"\n    \n    "),n.YNc(2,en,7,1,"div",0),n.ALo(3,"async"),n._uU(4,"\n\n\n\n    "),n.TgZ(5,"div",3),n.NdJ("scrolled",function(){n.CHM(t);const r=n.oxw();return n.KtG(r.onScroll())}),n._uU(6,"\n        "),n.TgZ(7,"div",4),n._uU(8,"\n            "),n.TgZ(9,"div",5),n._uU(10,"\n                Description\n            "),n.qZA(),n._uU(11,"\n\n            "),n.TgZ(12,"div",6),n._uU(13,"\n                Username\n            "),n.qZA(),n._uU(14,"\n\n            "),n.TgZ(15,"div",6),n._uU(16,"\n                Project\n            "),n.qZA(),n._uU(17,"\n\n            "),n.TgZ(18,"div",6),n._uU(19,"\n                Start Date\n            "),n.qZA(),n._uU(20,"\n\n            "),n.TgZ(21,"div",6),n._uU(22,"\n                End Date\n            "),n.qZA(),n._uU(23,"\n\n            "),n.TgZ(24,"div",7),n._uU(25,"Period"),n.qZA(),n._uU(26,"\n        "),n.qZA(),n._uU(27,"\n        "),n.YNc(28,rn,27,17,"div",8),n._uU(29,"\n\n        "),n.YNc(30,cn,4,1,"div",9),n._uU(31,"\n    "),n.qZA(),n._uU(32,"\n    \n    \n"),n.BQk()}if(2&e){const t=n.oxw(),o=n.MAs(6);n.xp6(2),n.Q6J("ngIf",n.lcZ(3,8,t.topTasks$))("ngIfElse",o),n.xp6(3),n.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("horizontal",!1)("scrollWindow",!1),n.xp6(23),n.Q6J("ngForOf",t.tasks),n.xp6(2),n.Q6J("ngIf",t.isLoading)}}function sn(e,i){1&e&&(n.ynx(0),n._uU(1,"\n      "),n._UZ(2,"mat-spinner",17),n._uU(3,"\n\n    "),n.BQk()),2&e&&(n.xp6(2),n.Q6J("diameter",25))}function ln(e,i){if(1&e&&(n.TgZ(0,"h4"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3);n.xp6(1),n.hij("\n          ",t.serverErrMsg,"\n        ")}}function pn(e,i){1&e&&(n._uU(0," \n          "),n.TgZ(1,"h4"),n._uU(2,"No data so far"),n.qZA(),n._uU(3,"\n        "))}function gn(e,i){if(1&e&&(n._uU(0,"\n        "),n.TgZ(1,"mat-icon",20),n._uU(2,"error_outline"),n.qZA(),n._uU(3,"\n        "),n.YNc(4,ln,2,1,"h4",0),n._uU(5,"\n        "),n.YNc(6,pn,4,0,"ng-template",null,21,n.W1O),n._uU(8,"\n    ")),2&e){const t=n.MAs(7),o=n.oxw(2);n.xp6(4),n.Q6J("ngIf",o.serverErrMsg)("ngIfElse",t)}}function _n(e,i){if(1&e&&(n._uU(0,"\n    "),n.TgZ(1,"div",18),n._uU(2,"\n    "),n.YNc(3,sn,4,1,"ng-container",0),n._uU(4,"\n    "),n.YNc(5,gn,9,2,"ng-template",null,19,n.W1O),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n  ")),2&e){const t=n.MAs(6),o=n.oxw();n.xp6(3),n.Q6J("ngIf",o.isLoading)("ngIfElse",t)}}function un(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n              "),n.TgZ(2,"h3"),n._uU(3,"\n                   "),n.TgZ(4,"span",24),n._uU(5,"\n                        "),n._UZ(6,"div",25),n._uU(7,"\n                        "),n._UZ(8,"div",25),n._uU(9,"\n                        "),n._UZ(10,"div",25),n._uU(11,"\n                   "),n.qZA(),n._uU(12,"\n              "),n.qZA(),n._uU(13,"\n         "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.Udp("width","30%")("background","var(--main-bg-color-"+o+")")("color","white"),n.xp6(2),n.Udp("font-size",t.periodAsANumber/99999*100<1e3?"12px":"auto")}}const dn=function(){return[1,2,3,4]};function fn(e,i){1&e&&(n._uU(0,"\n    "),n.TgZ(1,"div",22),n._uU(2,"\n         "),n.YNc(3,un,14,8,"div",23),n._uU(4,"\n    "),n.qZA(),n._uU(5,"\n")),2&e&&(n.xp6(3),n.Q6J("ngForOf",n.DdM(1,dn)))}function xn(e,i){if(1&e&&(n.TgZ(0,"div",12),n._uU(1,"\n            "),n._UZ(2,"div",13),n._uU(3,"\n            "),n.TgZ(4,"span"),n._uU(5),n.qZA(),n._uU(6,"\n        "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.xp6(2),n.Udp("background","var(--main-bg-color-"+o+")"),n.xp6(3),n.Oqu(t.username)}}function hn(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n                "),n.TgZ(2,"h3"),n._uU(3),n.qZA(),n._uU(4,"\n                "),n.TgZ(5,"span"),n._uU(6),n.qZA(),n._uU(7,"\n             "),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(3),n.Oqu(t.username),n.xp6(3),n.Oqu(t.totalPeriod)}}function Un(e,i){if(1&e&&(n.TgZ(0,"div",16),n._uU(1,"\n             "),n.YNc(2,hn,8,2,"div",17),n._uU(3,"\n             \n             \n        "),n.qZA()),2&e){const t=i.$implicit,o=i.index;n.Udp("width",t.width+"%")("background","var(--main-bg-color-"+o+")")("color","white"),n.Q6J("matTooltip",(null==t?null:t.username)+" - "+(null==t?null:t.totalPeriod)),n.xp6(2),n.Q6J("ngIf",t.width>10)}}function Cn(e,i){if(1&e&&(n.TgZ(0,"div",14),n._uU(1,"\n        "),n.YNc(2,Un,4,8,"div",15),n._uU(3,"\n   "),n.qZA()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",t.topMembers)}}function On(e,i){if(1&e&&(n.TgZ(0,"div"),n._uU(1,"\n            "),n.TgZ(2,"div",18),n._uU(3,"\n        \n                "),n.TgZ(4,"div",7),n._uU(5,"\n                    "),n.TgZ(6,"div",19),n._uU(7,"\n                    "),n._UZ(8,"img",20),n._uU(9,"\n                    "),n.qZA(),n._uU(10,"\n                "),n.qZA(),n._uU(11,"\n        \n                "),n.TgZ(12,"div",8),n._uU(13),n.qZA(),n._uU(14,"\n        \n                "),n.TgZ(15,"div",9),n._uU(16),n.qZA(),n._uU(17,"\n        \n                "),n.TgZ(18,"div",10)(19,"b",21),n._uU(20),n.qZA()(),n._uU(21,"\n\n                "),n.TgZ(22,"div"),n._uU(23),n.qZA(),n._uU(24,"\n\n            "),n.qZA(),n._uU(25,"\n        "),n.qZA()),2&e){const t=i.$implicit;n.xp6(8),n.Q6J("src",null==t?null:t.picture,n.LSH),n.xp6(5),n.hij("\n                    ",null==t?null:t.email,"\n                "),n.xp6(3),n.hij("\n                    ",null==t?null:t.username,"\n                "),n.xp6(4),n.Oqu(null==t?null:t.tasksCount),n.xp6(3),n.hij("\n                    ",null==t?null:t.totalPeriod,"\n                ")}}function vn(e,i){if(1&e&&(n.ynx(0),n._uU(1,"\n   \n    "),n.TgZ(2,"div",2),n._uU(3,"\n        "),n.YNc(4,xn,7,3,"div",3),n._uU(5,"\n    "),n.qZA(),n._uU(6,"\n    "),n.YNc(7,Cn,4,1,"div",4),n._uU(8,"\n   \n    "),n.TgZ(9,"div",5),n._uU(10,"\n        "),n.TgZ(11,"div",6),n._uU(12,"\n            "),n.TgZ(13,"div",7),n._uU(14,"\n                Picture\n            "),n.qZA(),n._uU(15,"\n        \n            "),n.TgZ(16,"div",8),n._uU(17,"\n                Email\n            "),n.qZA(),n._uU(18,"\n        \n            "),n.TgZ(19,"div",9),n._uU(20,"\n                Username\n            "),n.qZA(),n._uU(21,"\n        \n            "),n.TgZ(22,"div",10),n._uU(23,"Number of Tasks"),n.qZA(),n._uU(24,"\n\n            "),n.TgZ(25,"div",10),n._uU(26,"Total time"),n.qZA(),n._uU(27,"\n\n        "),n.qZA(),n._uU(28,"\n        "),n.YNc(29,On,26,5,"div",11),n._uU(30,"\n    "),n.qZA(),n._uU(31,"\n      \n  \n"),n.BQk()),2&e){const t=n.oxw();n.xp6(4),n.Q6J("ngForOf",t.topMembers),n.xp6(3),n.Q6J("ngIf",t.topMembers),n.xp6(22),n.Q6J("ngForOf",t.team)}}function Pn(e,i){1&e&&(n.ynx(0),n._uU(1,"\n      "),n._UZ(2,"mat-spinner",24),n._uU(3,"\n\n    "),n.BQk()),2&e&&(n.xp6(2),n.Q6J("diameter",25))}function Tn(e,i){if(1&e&&(n.TgZ(0,"h4"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3);n.xp6(1),n.hij("\n          ",t.serverErrMsg,"\n        ")}}function Mn(e,i){1&e&&(n._uU(0," \n          "),n.TgZ(1,"h4"),n._uU(2,"No data so far"),n.qZA(),n._uU(3,"\n        "))}function Zn(e,i){if(1&e&&(n._uU(0,"\n        "),n.TgZ(1,"mat-icon",25),n._uU(2,"error_outline"),n.qZA(),n._uU(3,"\n        "),n.YNc(4,Tn,2,1,"h4",0),n._uU(5,"\n        "),n.YNc(6,Mn,4,0,"ng-template",null,26,n.W1O),n._uU(8,"\n    ")),2&e){const t=n.MAs(7),o=n.oxw(2);n.xp6(4),n.Q6J("ngIf",o.serverErrMsg)("ngIfElse",t)}}function wn(e,i){if(1&e&&(n._uU(0,"\n    "),n.TgZ(1,"div",22),n._uU(2,"\n    "),n.YNc(3,Pn,4,1,"ng-container",0),n._uU(4,"\n    "),n.YNc(5,Zn,9,2,"ng-template",null,23,n.W1O),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n  ")),2&e){const t=n.MAs(6),o=n.oxw();n.xp6(3),n.Q6J("ngIf",o.isLoading)("ngIfElse",t)}}const bn=[{path:"",component:X,data:{title:"Report"},children:[{path:"tasks",component:(()=>{class e{constructor(t,o,r){this.tasksService=t,this.reportsService=o,this.dialog=r,this.isLoading=!0,this.page=1,this.tasks=[],this.topTasks$=this.reportsService.getTopTasks()}ngOnInit(){this.getTasks(this.page)}getTasks(t){this.isLoading=!0,this.tasksService.getAllTasks(t).pipe((0,_.x)(()=>this.isLoading=!1)).subscribe(o=>{this.tasks=[...this.tasks,...o?.data],this.pagination=o?.pagination},o=>this.serverErrMsg=o?.error?.message||"Something went wrong, Please try again later.")}onScroll(){this.page<this.pagination.lastPage&&this.getTasks(++this.page)}showTask(t){this.dialog.open(G,{panelClass:"custom-task-dialog",width:"100%",data:t,backdropClass:"custom-task-dialog-backdrop"}).afterClosed().subscribe(r=>{console.log(`Dialog result: ${r}`)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(K.C),n.Y36(g),n.Y36(m.uw))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-tasks-report"]],decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["topTasksLoading",""],["infiniteScroll","",1,"results",3,"infiniteScrollDistance","infiniteScrollThrottle","horizontal","scrollWindow","scrolled"],[1,"row","table-header"],[1,"description"],[1,""],[1,"tasks"],[4,"ngFor","ngForOf"],["class","p-t-20 p-b-20 flex-c flex-m",4,"ngIf"],[1,"top","tasks"],[3,"width","background","color","click",4,"ngFor","ngForOf"],[3,"click"],[3,"hidden"],[1,"row"],[1,"description",3,"matTooltip"],[1,"p-t-20","p-b-20","flex-c","flex-m"],[3,"diameter"],[1,"empty-block","flex-m","flex-c","w-full"],["empty",""],[1,"m-r-5"],["no_data",""],[1,"top"],[3,"width","background","color",4,"ngFor","ngForOf"],[1,"dots"],[1,"dot"]],template:function(t,o){if(1&t&&(n.YNc(0,an,33,10,"ng-container",0),n._uU(1,"\n\n"),n.YNc(2,_n,9,2,"ng-template",null,1,n.W1O),n._uU(4,"\n\n  "),n.YNc(5,fn,6,2,"ng-template",null,2,n.W1O)),2&t){const r=n.MAs(3);n.Q6J("ngIf",null==o.tasks?null:o.tasks.length)("ngIfElse",r)}},dependencies:[s.sg,s.O5,u.Hw,d.Ou,f.gM,V.Ry,s.Ov,s.uU,nn],styles:["[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{width:45%!important}[_nghost-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.description){max-width:15%}.results[_ngcontent-%COMP%]{height:25rem;overflow:scroll}",".mat-button-toggle[_ngcontent-%COMP%]{width:100px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff}.row[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:1px 2px 2px #f1f1f1;padding:10px 20px;margin:1px 0;min-height:50px}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;font-size:15px}.row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:30px;height:30px;background:#90a4ae;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;color:#fff}.row.report-title[_ngcontent-%COMP%]{padding:0;justify-content:space-between;align-items:center;text-align:center}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#607d8b;width:100%;text-align:center;cursor:pointer;transition:all .2s ease-in;height:90px;outline:none}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:not(:last-of-type){border-right:solid 1px rgba(0,0,0,.1)}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:60px}.row.report-title[_ngcontent-%COMP%]   h3.active[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#607d8b}.row.report-title[_ngcontent-%COMP%]     *{font-family:Poppins,Arial,sans-serif!important}.row.report-title[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#cfd8dc}.row.report-title[_ngcontent-%COMP%]     .mat-select-value{color:#607d8b}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;vertical-align:middle;color:#90a4ae;cursor:default;text-transform:uppercase}.dots[_ngcontent-%COMP%]{display:flex;gap:5px}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff;width:10px;height:10px;animation:flash ease .7s infinite;margin:10px 0}@keyframes flash{0%{background-color:#cfd8dc}to{background-color:#fff}}.top[_ngcontent-%COMP%]{display:flex;max-width:100%}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;height:55px}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.legend[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;gap:10px}.legend[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:15px;height:15px}"]}),e})()},{path:"team",component:(()=>{class e{constructor(t){this.reportsService=t,this.isLoading=!0,this.team=[],this.topMembers=[]}ngOnInit(){this.getTeam()}getTeam(){this.reportsService.getTeam().pipe((0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{this.team=t;let o=0;this.team.forEach(r=>{r.totalPeriod=this.reportsService.calculateTaskPeriodByTime(r?.tasksTime)?.asString,o+=r?.tasksTime}),this.calcTime()},t=>this.serverErrMsg=t?.error?.message||"Something went wrong, Please try again later.")}calcTime(){this.reportsService.totalConsumedTime$.subscribe(t=>{this.topMembers=[...this.team].slice(0,4),this.topMembers.forEach(o=>{o.width=o?.tasksTime/t*100,o.width=o.width<1?++o.width:o.width})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-team-report"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"legend","flex-m"],["class","flex-m flex-c",4,"ngFor","ngForOf"],["class","top members",4,"ngIf"],[1,"results"],[1,"row","table-header"],[1,"picture"],[1,"email"],[1,"username"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"flex-m","flex-c"],[1,"block"],[1,"top","members"],[3,"width","background","color","matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[4,"ngIf"],[1,"row"],[1,"profile-img-container","sm"],["alt","",1,"profile-img",3,"src"],[1,"badge"],[1,"empty-block","flex-m","flex-c","w-full"],["empty",""],[3,"diameter"],[1,"m-r-5"],["no_data",""]],template:function(t,o){if(1&t&&(n.YNc(0,vn,32,3,"ng-container",0),n._uU(1,"\n\n"),n.YNc(2,wn,9,2,"ng-template",null,1,n.W1O)),2&t){const r=n.MAs(3);n.Q6J("ngIf",null==o.team?null:o.team.length)("ngIfElse",r)}},dependencies:[s.sg,s.O5,u.Hw,d.Ou,f.gM],styles:[".results[_ngcontent-%COMP%]{height:25rem;overflow:scroll}",".mat-button-toggle[_ngcontent-%COMP%]{width:100px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#607d8b;color:#fff}.row[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-between;box-shadow:1px 2px 2px #f1f1f1;padding:10px 20px;margin:1px 0;min-height:50px}.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;font-size:15px}.row[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:30px;height:30px;background:#90a4ae;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:12px;color:#fff}.row.report-title[_ngcontent-%COMP%]{padding:0;justify-content:space-between;align-items:center;text-align:center}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#607d8b;width:100%;text-align:center;cursor:pointer;transition:all .2s ease-in;height:90px;outline:none}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:not(:last-of-type){border-right:solid 1px rgba(0,0,0,.1)}.row.report-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:60px}.row.report-title[_ngcontent-%COMP%]   h3.active[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#607d8b}.row.report-title[_ngcontent-%COMP%]     *{font-family:Poppins,Arial,sans-serif!important}.row.report-title[_ngcontent-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#cfd8dc}.row.report-title[_ngcontent-%COMP%]     .mat-select-value{color:#607d8b}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;vertical-align:middle;color:#90a4ae;cursor:default;text-transform:uppercase}.dots[_ngcontent-%COMP%]{display:flex;gap:5px}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background-color:#fff;width:10px;height:10px;animation:flash ease .7s infinite;margin:10px 0}@keyframes flash{0%{background-color:#cfd8dc}to{background-color:#fff}}.top[_ngcontent-%COMP%]{display:flex;max-width:100%}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:5px 15px;height:55px}.top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column}.top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.legend[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:10px;gap:10px}.legend[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{width:15px;height:15px}"]}),e})()},{path:"projects",component:J},{path:"",redirectTo:"tasks",pathMatch:"full"}]}];let An=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[l.Bz.forChild(bn),l.Bz]}),e})();var kn=c(4006),yn=c(2912);let qn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.ez,kn.u5,P.o9,T.q,yn.m8,An]}),e})()}}]);